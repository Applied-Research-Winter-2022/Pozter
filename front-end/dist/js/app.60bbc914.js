(function(e){function t(t){for(var a,i,c=t[0],o=t[1],l=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,c=1;c<r.length;c++){var o=r[c];0!==n[o]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},s=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"33f8":function(e,t,r){e.exports=r.p+"img/canvas_1.07ac1a42.jpg"},4743:function(e,t,r){e.exports=r.p+"img/poz.01937be9.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isPlayer?r("router-view"):r("v-app",[r("navbar"),r("v-main",{staticClass:"grey lighten-3"},[r("router-view")],1)],1)],1)},s=[],i=(r("caad"),r("2532"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{attrs:{color:"deep-orange lighten-1"}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}),a("v-avatar",{staticClass:"mr-5 ml-5",attrs:{size:"32",rounded:""}},[a("img",{staticStyle:{cursor:"pointer"},attrs:{src:r("4743"),contain:"",alt:"Pozter"},on:{click:e.returnHome}})]),a("v-toolbar-title",[e._v(e._s(e.currentRouteName))])],1),a("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:"",nav:""}},[a("v-list-item-group",{attrs:{"active-class":"indigo--text text--accent-4"}},e._l(e.links,(function(t){return a("v-list-item",{key:t.title},[a("v-list-item-icon",[a("v-icon",[e._v(" "+e._s(t.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.title)+" ")])],1)],1)})),1)],1)],1)],1)}),c=[],o=(r("b0c0"),{data:function(){return{drawer:!1,links:[{title:"Home",icon:"mdi-home"},{title:"Account",icon:"mdi-account-multiple"},{title:"Campaigns",icon:"mdi-bullhorn"},{title:"Reports",icon:"mdi-clipboard-text"},{title:"Logout",icon:"mdi-logout"}]}},methods:{returnHome:function(){this.$router.push("/").catch((function(){}))}},computed:{currentRouteName:function(){return this.$route.name}}}),l=o,u=r("2877"),d=r("6544"),p=r.n(d),v=r("5bc1"),h=r("8212"),f=r("132d"),m=r("8860"),b=r("da13"),g=r("5d23"),x=r("1baa"),w=r("34c3"),y=r("f774"),S=r("71d9"),_=r("2a7f"),C=Object(u["a"])(l,i,c,!1,null,"c4d6a3bc",null),I=C.exports;p()(C,{VAppBarNavIcon:v["a"],VAvatar:h["a"],VIcon:f["a"],VList:m["a"],VListItem:b["a"],VListItemContent:g["a"],VListItemGroup:x["a"],VListItemIcon:w["a"],VListItemTitle:g["b"],VNavigationDrawer:y["a"],VToolbar:S["a"],VToolbarTitle:_["a"]});var k={name:"App",data:function(){return{isPlayer:!0}},components:{Navbar:I},created:function(){this.$route.path.includes("/play")||(this.isPlayer=!1)}},O=k,M=r("7496"),j=r("f6c4"),B=Object(u["a"])(O,n,s,!1,null,null,null),U=B.exports;p()(B,{VApp:M["a"],VMain:j["a"]});var P=r("8c4f"),R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-main",[r("v-container",{attrs:{"fill-height":""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs6:"","pa-6":""}},[r("div",{staticClass:"text-xs-center"},[r("router-link",{attrs:{to:"/create"}},[r("v-btn",{staticClass:"mx-auto",attrs:{id:"button-create",color:"deep-orange lighten-1"}},[e._v(" New Canvas ")])],1)],1)])],1)],1)],1)],1)},V=[],$={name:"Home",props:{},data:function(){return{}},components:{},computed:{},methods:{}},F=$,A=r("8336"),N=r("a523"),E=r("0e8f"),T=r("a722"),q=Object(u["a"])(F,R,V,!1,null,"08b7bc48",null),H=q.exports;p()(q,{VBtn:A["a"],VContainer:N["a"],VFlex:E["a"],VLayout:T["a"],VMain:j["a"]});var L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{sm:"12"}},[r("h2",{staticClass:"d-flex justify-center",staticStyle:{border:"solid #cccccc"}},[e._v(" Billboard Pozter Selector ")]),r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{sm:"10"}},[r("v-row",e._l(e.billboards,(function(e){return r("v-col",{key:e.id,attrs:{cols:6}},[r("BillboardCard",{attrs:{id:e.id,billboardName:e.billboard_name,venue:e.venue}})],1)})),1)],1)],1)],1)],1)],1)},z=[],D=r("1da1"),W=(r("96cf"),r("d4ec")),X=r("bee2"),J=r("bc3a"),Y=r.n(J),G="https://pozter-demo.herokuapp.com";"localhost"===window.location.hostname&&(G="http://localhost:8000");var K={get dataApi(){return Y.a.create({baseURL:G,headers:{"Content-Type":"application/json"}})}},Q=function(){function e(){Object(W["a"])(this,e)}return Object(X["a"])(e,[{key:"fetchBillboardId",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.get("/billboard/id/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data[0]);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to fetch billboard - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchBillboards",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.get("/billboards");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to fetch billboards - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchUserBillboard",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.get("/user_billboard/full/id/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data[0]);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to fetch billboard - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchScreenCanvasByBillboardId",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.get("/screen_canvas/id/billboard/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to fetch canvases - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchScreenCanvasId",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.get("/screen_canvas/id/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data[0]);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to fetch canvas - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchScreenCanvases",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.get("/screen_canvases");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to fetch canvases - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"fetchSocialMediaPosts",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.get("/social_media_posts");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to fetch canvases - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"createUserScreen",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.request({method:"post",url:"/user_screen/create",data:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to create user screen - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createUserBillboard",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.request({method:"post",url:"/user_billboard/create",data:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to create user billboard - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createSocialMediaContent",value:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K.dataApi.request({method:"post",url:"/social_media_content/create",data:t});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to create user billboard - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Z=new Q,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{hover:!0},on:{click:e.handleClick}},[a("v-img",{attrs:{src:r("33f8"),contain:"",height:"200px"}}),a("v-card-title",{staticClass:"justify-center",domProps:{textContent:e._s(e.billboardName)}})],1)},te=[],re={name:"Step1Billboard",props:{id:String,billboardName:String,venue:String},data:function(){return{}},methods:{handleClick:function(){this.$router.push({path:"create/2",query:{billboardId:this.id}})}}},ae=re,ne=r("b0af"),se=r("99d9"),ie=r("adda"),ce=Object(u["a"])(ae,ee,te,!1,null,null,null),oe=ce.exports;p()(ce,{VCard:ne["a"],VCardTitle:se["c"],VImg:ie["a"]});var le={name:"Step1Billboard",components:{BillboardCard:oe},data:function(){return{billboards:[]}},mounted:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchBillboards();case 2:case"end":return t.stop()}}),t)})))()},computed:{},methods:{fetchBillboards:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Z.fetchBillboards();case 2:e.billboards=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},ue=le,de=r("62ad"),pe=r("0fd9"),ve=Object(u["a"])(ue,L,z,!1,null,"aaf19638",null),he=ve.exports;p()(ve,{VCol:de["a"],VContainer:N["a"],VRow:pe["a"]});var fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[null!==e.selectedScreen?r("v-row",{staticClass:"pt-12 w-100 justify-content-center"},[r("ScreenCanvasPreview",{attrs:{name:e.selectedScreen.text,config:e.selectedScreen?e.selectedScreen.config:null}})],1):e._e(),r("v-row",[r("v-flex",[r("div",{staticClass:"screens pa-12"},[r("v-row",[r("v-col",[r("v-select",{attrs:{items:e.screens,label:"Select a Screen Canvas",solo:"","return-object":""},model:{value:e.selectedScreen,callback:function(t){e.selectedScreen=t},expression:"selectedScreen"}})],1)],1)],1)])],1),r("v-flex",{attrs:{xs12:"","pa-4":""}},[r("v-card-actions",[r("v-spacer"),r("v-row",{staticClass:"mb-6"},[r("v-col",{attrs:{md:"2","offset-md":"8"}},[r("div",[r("router-link",{attrs:{to:"/"}},[r("v-btn",[e._v("Cancel")])],1)],1)]),r("v-col",{attrs:{md:"1","offset-md":"1"}},[r("div",[r("v-btn",{attrs:{color:"deep-orange lighten-1",disabled:null===e.selectedScreen},on:{click:e.didClickNext}},[e._v("Next")])],1)])],1)],1)],1)],1)},me=[],be=(r("d81d"),r("4e827"),r("99af"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"position-relative d-flex flex-column rounded",staticStyle:{"background-color":"black"},style:e.dimensionsStyles},[e.image?r("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.image}}):r("div",{staticClass:"d-flex flex-column align-items-center pt-4"},[r("strong",{staticClass:"w-100 text-muted text-center"},[e._v(" "+e._s(e.name)+" ")]),r("div",{staticClass:"w-100 text-muted text-center text-sm"},[e._v(" Width: "+e._s(e.screenCanvasWidth)),r("br"),e._v(" Height: "+e._s(e.screenCanvasHeight)+" ")])]),r("div",{staticClass:"position-absolute d-flex justify-content-center align-items-center",staticStyle:{"background-color":"rgba(255, 255, 255, 0.8)","font-size":"8pt"},style:e.socialMediaStyles},[r("div",{staticClass:"text-center text-muted"},[e._v(" Social Media Canvas"),r("br"),e._v(" ("+e._s(e.overlay.type)+") ")])])])}),ge=[],xe=(r("c35a"),r("a9e3"),{name:"ScreenCanvasPreview",props:["name","config","image"],data:function(){return{}},methods:{},computed:{screenCanvasWidth:function(){if(null!==this.config)return this.config.canvases[0].width},screenCanvasHeight:function(){if(null!==this.config)return this.config.canvases[0].height},dimensionsStyles:function(){if(null!==this.config){var e=Number.parseFloat(this.screenCanvasWidth),t=Number.parseFloat(this.screenCanvasHeight),r=400;return{width:e/t*r+"px",height:r+"px"}}return null},overlay:function(){if(null!==this.config)return this.config.social_media_overlay},socialMediaStyles:function(){if(null!==this.config){var e=this.overlay.translateY,t=this.overlay.translateX,r=this.overlay.width;return{top:e,left:t,width:r,height:"35%"}}return null}}}),we=xe,ye=Object(u["a"])(we,be,ge,!1,null,"4c0786ba",null),Se=ye.exports,_e={name:"Step2Canvas",components:{ScreenCanvasPreview:Se},props:{},data:function(){return{screens:[],selectedScreen:null,billboardId:null,userBillboardId:null}},mounted:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.billboardId=e.$route.query.billboardId,e.userBillboardId=e.$route.query.userBillboardId,e.billboardId||e.$router.push("/"),t.next=5,Z.fetchScreenCanvasByBillboardId(e.billboardId);case 5:e.screens=t.sent,e.screens.map((function(e){return e.text=e.screen_canvases_name,e.value=e.id,e})),e.screens.sort((function(e,t){return e.text>t.text?1:e.text<t.text?-1:0}));case 8:case"end":return t.stop()}}),t)})))()},computed:{},methods:{directToScreen:function(){alert("Label: ".concat(this.selectedScreen.text,"; Value: ").concat(this.selectedScreen.value))},didClickNext:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userBillboardId){t.next=6;break}return r={user_id:"35a27f4e-9f40-11ec-bbaa-bba14276ac27",user_billboard_name:"New - "+Date.now(),description:"some description",socket_url:"something",config:{}},t.next=4,Z.createUserBillboard(r);case 4:a=t.sent,e.userBillboardId=a.data[0].id;case 6:e.$router.push({path:"3",query:{billboardId:e.billboardId,screenCanvasId:e.selectedScreen.id,userBillboardId:e.userBillboardId}});case 7:case"end":return t.stop()}}),t)})))()}}},Ce=_e,Ie=r("b974"),ke=r("2fa4"),Oe=Object(u["a"])(Ce,fe,me,!1,null,null,null),Me=Oe.exports;p()(Oe,{VBtn:A["a"],VCardActions:se["a"],VCol:de["a"],VContainer:N["a"],VFlex:E["a"],VRow:pe["a"],VSelect:Ie["a"],VSpacer:ke["a"]});var je=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",[null!==e.screenCanvas?r("v-row",{staticClass:"pt-12 w-100 justify-content-center"},[r("ScreenCanvasPreview",{attrs:{name:e.screenCanvas.screen_canvases_name,config:e.screenCanvas?e.screenCanvas.config:null,image:e.previewUrl}})],1):e._e(),r("v-row",[r("v-col",[r("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",label:"Upload a Screen Canvas",chips:""},on:{change:e.onAddFile,"click:clear":e.onClear}}),!0===e.didUploadImage&&this.file?r("v-card",[r("v-card-text",[r("v-alert",{attrs:{type:"success"}},[e._v(" User Screen created! ")])],1)],1):e._e(),e.isError?r("v-alert",[e._v(" "+e._s(e.errorText)+" ")]):e._e()],1)],1),r("v-container",{attrs:{"pt-4":""}},[r("v-row",{staticClass:"w-100 justify-content-center"},[r("div",[r("v-btn",{attrs:{disabled:!e.isImageSelected||e.didUploadImage,color:"green lighten-2"},on:{click:e.createUserCanvas}},[e.isUploading?r("div",{staticClass:"spinner-border text-light",attrs:{role:"status"}},[r("span",{staticClass:"sr-only"},[e._v("Loading...")])]):r("span",[e._v("Create User Screen")])])],1)]),r("v-row",{staticClass:"mb-6 w-100 justify-content-center"},[r("v-col",{staticClass:"w-100 d-flex justify-content-center"},[r("div",[r("v-btn",{staticClass:"mx-3 deep-orange lighten-2",attrs:{disabled:!e.didUploadImage},on:{click:e.didClickCAS}},[e._v("Create Another Screen")])],1)]),r("v-col",{staticClass:"d-flex justify-content-center"},[r("div",[r("v-btn",{attrs:{disabled:!e.didUploadImage,color:"deep-orange lighten-1"},on:{click:e.didClickSM}},[e._v("Configure Social Media")])],1)])],1)],1)],1)],1)},Be=[],Ue=(r("d3b7"),{name:"Step3UserContent",components:{ScreenCanvasPreview:Se},props:{},data:function(){return{screenCanvas:null,userBillboardId:null,didUploadImage:!1,isError:!1,errorText:null,previewUrl:null,previewFile:null,isUploading:!1,isImageSelected:!1,file:null}},mounted:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.billboardId=e.$route.query.billboardId,e.userBillboardId=e.$route.query.userBillboardId,r=e.$route.query.screenCanvasId,r&&e.userBillboardId&&e.billboardId||e.$router.push("/"),t.next=6,e.fetchCanvasId(r);case 6:case"end":return t.stop()}}),t)})))()},methods:{fetchCanvasId:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Z.fetchScreenCanvasId(e);case 2:t.screenCanvas=r.sent;case 3:case"end":return r.stop()}}),r)})))()},createImage:function(e){var t=this,r=new FileReader;r.onload=function(e){t.previewUrl=e.target.result},r.readAsDataURL(e)},didClickCAS:function(){this.$router.push({path:"2",query:{billboardId:this.$route.query.billboardId,userBillboardId:this.$route.query.userBillboardId}})},didClickSM:function(){this.$router.push({path:"4",query:{screenCanvasId:this.screenCanvas.id,userBillboardId:this.userBillboardId}})},reset:function(){this.didUploadImage=!1,this.isError=!1,this.errorText=null,this.previewUrl=null,this.previewFile=null,this.isUploading=!1,this.isImageSelected=!1,this.file=null},onClear:function(){this.reset()},onAddFile:function(e){e&&(this.didUploadImage=!1,this.previewFile=e,this.createImage(e),this.isImageSelected=!0)},createUserCanvas:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isUploading=!0,t.next=4,e.uploadFileToCloudinary(e.previewFile);case 4:return r=t.sent,e.file=r,a=e.file.url,n={screen_canvas_id:e.screenCanvas.id,user_billboard_id:e.userBillboardId,user_screen_name:"some name",description:"some description",config:{type:"image",asset:a,width:"100%",height:"100%"}},t.next=10,Z.createUserScreen(n);case 10:r=t.sent,console.log(r),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:e.isUploading=!1;case 18:case"end":return t.stop()}}),t,null,[[0,14]])})))()},uploadFile:function(){return this.uploadFileToCloudinary(this.previewFile)},uploadFileToCloudinary:function(e){var t=this;return new Promise((function(r,a){var n="https://api.cloudinary.com/v1_1/pozter/upload",s="affgwoft",i=new FormData;i.append("upload_preset",s),i.append("folder","cloudinary-demo"),i.append("file",e);var c=new XMLHttpRequest;c.open("POST",n,!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.onreadystatechange=function(){if(t.isUploading=!1,4===c.readyState&&200===c.status){t.didUploadImage=!0;var e=JSON.parse(c.responseText);r(e)}if(200!==c.status){var n=JSON.parse(c.responseText),s=n.error.message;t.errorText="error uploading files "+s,t.isError=!0,t.didUploadImage=!1,a(s)}},c.onerror=function(e){alert("error: "+e),a(e)},c.send(i)}))}}}),Pe=Ue,Re=r("0798"),Ve=r("23a7"),$e=Object(u["a"])(Pe,je,Be,!1,null,null,null),Fe=$e.exports;p()($e,{VAlert:Re["a"],VBtn:A["a"],VCard:ne["a"],VCardText:se["b"],VCol:de["a"],VContainer:N["a"],VFileInput:Ve["a"],VRow:pe["a"]});var Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-flex",[r("div",{staticClass:"hashtag pa-12"},[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Enter a hashtag",color:"indigo darken-4","full-width":"",solo:"",width:"80px",height:"20px"},model:{value:e.hashtag,callback:function(t){e.hashtag=t},expression:"hashtag"}})],1)],1)],1)])],1),r("v-flex",{attrs:{xs12:"","pa-4":""}},[r("v-card-actions",[r("v-spacer"),r("v-row",{staticClass:"mb-6"},[r("v-col",{attrs:{md:"2","offset-md":"8"}},[r("div",[r("router-link",{attrs:{to:"/"}},[r("v-btn",[e._v("Cancel")])],1)],1)]),r("v-col",{attrs:{md:"1","offset-md":"1"}},[r("div",[r("v-btn",{attrs:{color:"deep-orange lighten-1"},on:{click:e.handleFinish}},[e._v("Finish")])],1)])],1)],1)],1)],1)},Ne=[],Ee={name:"Step4SocialMedia",props:{},data:function(){return{hashtag:"",userBillboardId:null}},mounted:function(){this.userBillboardId=this.$route.query.userBillboardId,this.userBillboardId||this.$router.push("/")},methods:{handleFinish:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r={user_billboard_id:e.userBillboardId,social_media_content_name:"SCM Name",description:"SCM Description",config:{hashtag:e.hashtag}},t.next=4,Z.createSocialMediaContent(r);case 4:e.$router.push({name:"Success",query:{userBillboardId:e.userBillboardId}}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},Te=Ee,qe=r("8654"),He=Object(u["a"])(Te,Ae,Ne,!1,null,"4e4762a2",null),Le=He.exports;p()(He,{VBtn:A["a"],VCardActions:se["a"],VCol:de["a"],VContainer:N["a"],VFlex:E["a"],VRow:pe["a"],VSpacer:ke["a"],VTextField:qe["a"]});var ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",[r("v-col",{attrs:{sm:"12"}},[r("h2",{staticClass:"d-flex justify-center",staticStyle:{border:"solid #cccccc"}},[e._v(" Success ")]),r("p",{staticClass:"d-flex justify-center"},[e._v(" Your billboard was created successfully. It can be viewed at: ")]),r("strong",{staticClass:"d-flex justify-center"},[r("a",{attrs:{href:e.userBillboardUrl}},[e._v(e._s(e.userBillboardUrl))])])])],1),r("v-row",[r("v-col",{staticClass:"text-center"},[e._v(" To view a complete example with Social Media Posts that are hard-coded into the database:"),r("br"),r("a",{attrs:{href:e.completeExampleUrl}},[e._v(e._s(e.completeExampleUrl))])])],1)],1)},De=[],We={name:"Step5Success",props:{},data:function(){return{userBillboardId:null}},mounted:function(){this.userBillboardId=this.$route.query.userBillboardId,this.userBillboardId||this.$router.push("/")},computed:{userBillboardUrl:function(){return"https://pozter-demo.herokuapp.com/play/"+this.userBillboardId},completeExampleUrl:function(){return"https://pozter-demo.herokuapp.com/play/d12cb650-9f40-11ec-bbaa-6fe27c042acc"}},methods:{}},Xe=We,Je=Object(u["a"])(Xe,ze,De,!1,null,"577050f2",null),Ye=Je.exports;p()(Je,{VCol:de["a"],VContainer:N["a"],VRow:pe["a"]});var Ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("UserBillboard",{attrs:{userScreen:e.currentUserScreen,screenCanvas:e.currentScreenCanvas,socialMediaPost:e.currentSocialMediaPost,socialMediaOverlay:e.currentSocialMediaOverlay}})},Ke=[],Qe=r("daa8"),Ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{position:"absolute",top:"0",left:"0","background-color":"red"},style:e.styles},[r("UserScreen",{attrs:{userScreen:e.userScreen,socialMediaOverlay:e.socialMediaOverlay,socialMediaPost:e.socialMediaPost}})],1)},et=[],tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{position:"absolute",top:"0",left:"0"},style:e.styles},[r("SocialMediaOverlay",{attrs:{socialMediaOverlay:e.socialMediaOverlay,socialMediaPost:e.socialMediaPost}})],1)},rt=[],at=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{position:"absolute","background-color":"rgba(255, 255, 255, 0.5)"},style:e.styles},[r("SocialMediaPost",{attrs:{socialMediaPost:e.socialMediaPost}})],1)},nt=[],st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{"font-size":"120pt"}},[r("div",{staticStyle:{"padding-left":"2.5%"}},[e._v('"'+e._s(e.content)+'""')]),r("div",{staticStyle:{"padding-left":"5%"}},[e._v("- "+e._s(e.user))])])},it=[],ct={name:"",props:{socialMediaPost:Object},data:function(){return{}},computed:{user:function(){return this.socialMediaPost?this.socialMediaPost.content.user:""},content:function(){return this.socialMediaPost?this.socialMediaPost.content.content:""}},methods:{}},ot=ct,lt=Object(u["a"])(ot,st,it,!1,null,"54352e65",null),ut=lt.exports,dt={name:"",components:{SocialMediaPost:ut},props:{socialMediaOverlay:Object,socialMediaPost:Object},data:function(){return{}},computed:{styles:function(){return console.log(this.socialMediaOverlay),this.socialMediaOverlay?{width:this.socialMediaOverlay.width,height:this.socialMediaOverlay.height,top:this.socialMediaOverlay.translateY,left:this.socialMediaOverlay.translateX}:null}},methods:{}},pt=dt,vt=Object(u["a"])(pt,at,nt,!1,null,"57d78464",null),ht=vt.exports,ft={name:"UserScreen",components:{SocialMediaOverlay:ht},props:{userScreen:Object,socialMediaOverlay:Object,socialMediaPost:Object},data:function(){return{}},computed:{styles:function(){return this.userScreen&&"image"===this.userScreen.config.type?{width:this.userScreen.config.width,height:this.userScreen.config.height,backgroundImage:"url('".concat(this.userScreen.config.asset,"')"),backgroundSize:"100% 100%"}:null}},methods:{}},mt=ft,bt=Object(u["a"])(mt,tt,rt,!1,null,"7c023684",null),gt=bt.exports,xt={name:"UserBillboard",components:{UserScreen:gt},props:{userScreen:Object,screenCanvas:Object,socialMediaPost:Object,socialMediaOverlay:Object},data:function(){return{}},computed:{styles:function(){if(this.screenCanvas){var e=this.screenCanvas.config.canvases[0];return{width:e.width,height:e.height}}return null}}},wt=xt,yt=Object(u["a"])(wt,Ze,et,!1,null,"6c8f58c2",null),St=yt.exports,_t={name:"Home",components:{UserBillboard:St},props:{},data:function(){return{userBillboard:{},screenCanvases:{},userScreens:[],socialMediaPosts:[],socket:null,screenInterval:null,postInterval:null,currentUserScreenIndex:0,currentSocialMediaPostIndex:0}},created:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.next=3,Z.fetchUserBillboard(r);case 3:for(n in a=t.sent,e.userBillboard.socket_url=a.socket_url,e.userScreens=a.user_screens,e.userScreens)s=e.userScreens[n],s.screen_canvases&&(i=s.screen_canvases[0],e.screenCanvases[i.id]=i);if(e.socialMediaPosts=a.social_media_content[0].social_media_posts,0!==e.socialMediaPosts.length){t.next=12;break}return t.next=11,Z.fetchSocialMediaPosts();case 11:e.socialMediaPosts=t.sent;case 12:e.socket=Object(Qe["a"])(e.userBillboard.socketurl),e.socket.on("user-screen-next",e.handleUserScreenNext),e.socket.on("social-media-next",e.handleSocialMediaNext),e.screenInterval=setInterval(e.handleUserScreenNext,1e4),e.screenInterval=setInterval(e.handleSocialMediaNext,4e3);case 17:case"end":return t.stop()}}),t)})))()},computed:{currentUserScreen:function(){return this.userScreens?this.userScreens[this.currentUserScreenIndex]:null},currentSocialMediaPost:function(){return this.socialMediaPosts?this.socialMediaPosts[this.currentSocialMediaPostIndex]:null},currentScreenCanvas:function(){return this.currentUserScreen?this.screenCanvases[this.currentUserScreen.screen_canvas_id]:null},currentSocialMediaOverlay:function(){return this.currentScreenCanvas?this.currentScreenCanvas.config.social_media_overlay:null}},methods:{handleUserScreenNext:function(){this.currentUserScreenIndex===this.userScreens.length-1?this.currentUserScreenIndex=0:this.currentUserScreenIndex++},handleSocialMediaNext:function(){this.currentSocialMediaPostIndex===this.socialMediaPosts.length-1?this.currentSocialMediaPostIndex=0:this.currentSocialMediaPostIndex++}},destroyed:function(){this.socket.disconnect(),clearInterval(this.screenInterval),clearInterval(this.postInterval)}},Ct=_t,It=Object(u["a"])(Ct,Ge,Ke,!1,null,"5d38cee4",null),kt=It.exports;a["default"].use(P["a"]);var Ot=[{path:"/",name:"Home",alias:"/home",component:H},{path:"/create",name:"Billboard",component:he},{path:"/create/2",name:"Canvas",component:Me},{path:"/create/3",name:"User Content",component:Fe},{path:"/create/4",name:"Social Media",component:Le},{path:"/create/done",name:"Success",component:Ye},{path:"/play/:id",name:"PlayerHome",component:kt}],Mt=new P["a"]({mode:"history",base:"/",routes:Ot}),jt=Mt,Bt=r("2f62");a["default"].use(Bt["a"]);var Ut=new Bt["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Pt=r("f309");a["default"].use(Pt["a"]);var Rt=new Pt["a"]({}),Vt=r("5f5b"),$t=r("b1e0"),Ft=r("130e");r("f9e3"),r("2dd8");a["default"].use(Vt["a"]),a["default"].use($t["a"]),a["default"].use(Ft["a"],Y.a),a["default"].config.productionTip=!1,new a["default"]({router:jt,store:Ut,vuetify:Rt,render:function(e){return e(U)}}).$mount("#app")}});
//# sourceMappingURL=app.60bbc914.js.map